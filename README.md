# CJSBinder

**CJSBinder** is a C-to-JavaScript glue code generator implemented in Python with Clang. Given C class declaration, **CJSBinder** can generate glue code to wrap the class into the JavaScript environment. A configuration file can be given to adjust the style of generated glue code.    
**CJSBinder** can be runned with the following example command:

---
     python3 generator.py -P configuration/node.js/AsynWrap.json -H input/node.js/AsynWrap.h -o output/node/AsynWrap.cpp
---

-P:&ensp;A configuration file containing a template block and a paramter block.  
-H:&ensp;The declaration of the existing C class.       
-o:&ensp;The file name of output(generated code).    

# Experiment
The experiments are conducted on a 3.20GHZ AMD Ryzen 7 5800H processor with 16 GB of 3200 MHz DDR4 running Linux 18.04 OS. CJSBinder is runned with **Python 3.7.5** and **Clang 8.0.0**.  
We choose real class wrapping examples from open source(projects Node.js, graaljs, nodegui and PuerTS) with little adaptation as our generation targets(benchmarks). We use **CJSBinder** to generate glue codes and compare them with target codes.  

There are 5 file folders in **experiment**ï¼š

|-- experiment  
&emsp;|-- configuration  
&emsp;|-- input  
&emsp;|-- output  
&emsp;|-- result  
&emsp;|-- targetcode  
    
configuration:&ensp;Configuration files costomized for every benchmark.  
input:&ensp;Headers of class declaration.  
output:&ensp;Generated glue code.  
result:&ensp;Experiment datas.  
targetcode:&ensp;Target glue code.  

We customize configuration files for every benchmark. For example, if the target is **targetcode/graaljs/Blob.cpp**, the corresponding glue code can be generated by the configuration file with the same name, just like:

---
     python3 generator.py -P configuration/graaljs/Blob.json -H input/graaljs/Blob.h -o output/graaljs/Blob.cpp
---
